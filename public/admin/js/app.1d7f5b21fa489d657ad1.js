webpackJsonp([7],{104:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=i(71),a=(i.n(e),i(51)),o=i.n(a),u=i(79),r=(i.n(u),i(59)),s=i.n(r),c=i(77),l=(i.n(c),i(57)),d=i.n(l),f=i(78),m=(i.n(f),i(58)),p=i.n(m),v=i(62),g=(i.n(v),i(44)),h=i.n(g),y=i(74),A=(i.n(y),i(54)),b=i.n(A),w=i(65),I=(i.n(w),i(47)),O=i.n(I),k=i(63),T=(i.n(k),i(45)),S=i.n(T),_=i(64),L=(i.n(_),i(46)),C=i.n(L),M=i(61),D=(i.n(M),i(26)),j=i.n(D),P=i(72),x=(i.n(P),i(52)),J=i.n(x),N=i(73),B=(i.n(N),i(53)),R=i.n(B),$=i(75),E=(i.n($),i(55)),F=i.n(E),G=i(67),U=(i.n(G),i(48)),q=i.n(U),z=i(68),H=(i.n(z),i(10)),K=i.n(H),Q=i(69),V=(i.n(Q),i(49)),W=i.n(V),X=i(76),Y=(i.n(X),i(56)),Z=i.n(Y),tt=i(70),nt=(i.n(tt),i(60)),it=(i.n(nt),i(50)),et=i.n(it),at=i(1),ot=i(80),ut=i.n(ot),rt=i(25),st=i(43),ct=i(66),lt=(i.n(ct),i(27));at.default.config.productionTip=!1,at.default.use(et.a),at.default.use(Z.a),at.default.use(W.a),at.default.use(K.a),at.default.use(q.a),at.default.use(F.a),at.default.use(R.a),at.default.use(J.a),at.default.use(j.a),at.default.use(C.a),at.default.use(S.a),at.default.use(O.a),at.default.use(b.a),at.default.use(h.a),at.default.use(p.a),at.default.use(d.a),at.default.use(s.a),at.default.prototype.$confirm=o.a.confirm,at.default.use(lt.a),new at.default({el:"#app",store:st.a,router:rt.a,template:"<App/>",components:{App:ut.a}}),window.onload=function(){localStorage.getItem("state")&&st.a.replaceState(JSON.parse(localStorage.getItem("state")))}},105:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),i.d(n,"login",function(){return o}),i.d(n,"logout",function(){return u});var e=i(6),a=i(25),o=function(t,n){var i=t.commit;t.state;e.a.adminLogin(n).then(function(t){var e=t.body;if(e.errCode)return void alert("出错！");var o={sid:e.sid,account:n.account};i("loginSuccess",o),e.sid?a.a.push("/order"):a.a.push("/AccountManage")})},u=function(t,n){var i=t.commit;e.a.adminLogout().then(function(t){if(t.body.errCode)return void alert("出错");i("logoutSuccess"),a.a.push("/login")})}},106:function(t,n,i){"use strict";var e=i(31),a=i.n(e),o=i(7),u=i.n(o),r=i(6),s=i(8);n.a={state:{page:1,keyword:void 0,list:[],menu:"1"},mutations:{listAdmin:function(t,n){t.list=n.list,n.keyword&&(t.keyword=n.keyword),n.page&&(t.page=n.page)}},actions:{getAdmin:function(t,n){var i=t.commit,e=t.state;n.keyword||(n.keyword=e.keyword),n.page||(n.page=e.page),r.a.getAdmin(n).then(function(t){var e=t.body;if(e.errCode)return void alert(e.errMsg);var a=u()({},n,{list:e});i("listAdmin",a)})},postAdmin:function(t,n){var e=t.commit,a=t.state;r.a.postAdmin(n).then(function(t){var o=t.body;if(o.errCode)return void alert(o.msg);var r=Date.now(),c=u()({},n,{createdAt:r,updatedAt:r,version:0,id:o.id}),l=a.list;l.pop(),e("listAdmin",{list:i.i(s.b)(l,c)})})},putAdmin:function(t,n){var e=t.commit,a=t.state;r.a.putAdmin(n).then(function(t){var o=t.body;if(o.errCode)return void alert(o.msg);var u=a.list,r=i.i(s.d)(u,n);e("listAdmin",{list:r})})},deleteAdmin:function(t,n){var i=t.commit,e=t.state;r.a.deleteAdmin(n).then(function(t){var a=t.body;if(a.errCode)return void alert(a.msg);var o=e.list,u=o.filter(function(t){return t.id!==n[0]});i("listAdmin",{list:u})})},addNewRow:function(t,n){var i=t.commit,e=t.state,o=e.list;if(o.length){var u=o.length;a()(o[u-1]).length&&(o.push({}),i("listAdmin",{list:o}))}else o.push({}),i("listAdmin",{list:o})}}}},107:function(t,n,i){"use strict";var e=i(7),a=i.n(e),o=i(6),u=i(8);n.a={state:{page:1,keyword:void 0,list:[],modal:!1,menu:"2"},mutations:{listActivity:function(t,n){t.list=n.list,n.page&&(t.page=n.page),n.keyword&&(t.keyword=n.keyword),t.modal=!1},createActivity:function(t,n){t.modal=n}},actions:{getActivity:function(t,n){var i=t.commit;o.a.getActivity(n).then(function(t){var e=t.body;if(e.errCode)return void alert(e.msg);i("listActivity",a()({list:e},n))})},postActivity:function(t,n){var e=t.commit,r=t.state;o.a.postActivity(n).then(function(t){var o=t.body;i.i(u.a)(o,function(){e("listActivity",{list:i.i(u.b)(r.list,a()({},n,{id:o.id}))})})})},putActivity:function(t,n){var e=t.commit,a=t.state;o.a.putActivity(n).then(function(t){var o=t.body;i.i(u.a)(o,function(){e("listActivity",{list:i.i(u.d)(a.list,n)})})})}}}},108:function(t,n,i){"use strict";var e=i(29),a=i.n(e),o=i(7),u=i.n(o),r=i(6),s=i(8);n.a={state:{page:1,keyword:void 0,list:[],menu:"2",detail:void 0},getters:{listGetter:function(t,n,i){return t.list.map(function(t){return t.tag=i.tag.list.filter(function(n){return n.id===t.tag_id})[0].name,t})}},mutations:{listItems:function(t,n){t.list=n.list,n.page&&(t.page=n.page),(n.keyword||""===n.keyword)&&(t.keyword=n.keyword)},gotoDetail:function(t,n){t.detail=n}},actions:{getAllItems:function(t,n){var e=t.commit;t.state;r.a.getAllItems(n).then(function(t){var a=t.body;i.i(s.a)(a,function(){for(var t=0;t<a.length;t++)a[t].specifications=JSON.parse(a[t].specifications);e("listItems",u()({},n,{list:a})),e("gotoDetail",void 0)})})},postItems:function(t,n){var e=t.commit,o=t.state;n.specifications=a()(n.specifications),r.a.postItems(n).then(function(t){var a=t.body;i.i(s.a)(a,function(){var t=o.list;e("listItems",{list:i.i(s.b)(t,n)})})})},putItemsStatus:function(t,n){var e=t.commit,a=t.state;r.a.putItems(n).then(function(t){var o=t.body;i.i(s.a)(o,function(){var t=a.list,i=t.map(function(t){return t.id in n&&(t.status=n.url),t});e("listItems",{list:i})})})},deleteItems:function(t,n){var e=t.commit,a=t.state;r.a.deleteItems(n).then(function(t){var o=t.body;i.i(s.a)(o,function(){var t=a.list,i=t.filter(function(t){return!(t.id in n)});e("listItems",{list:i})})})},putItems:function(t,n){var e=t.commit,o=t.state;n.specifications=a()(n.specifications),r.a.putItems(n).then(function(t){var a=t.body;i.i(s.a)(a,function(){var t=o.list;e("listItems",{list:i.i(s.d)(t,n)}),e("gotoDetail",void 0)})})}}}},109:function(t,n,i){"use strict";var e=i(7),a=i.n(e),o=i(6),u=i(8);n.a={state:{page:1,keyword:void 0,list:[],menu:"1"},mutations:{listOrder:function(t,n){t.list=n.list,n.page&&(t.page=n.page),n.keyword&&(t.keyword=n.keyword)}},actions:{getAllOrder:function(t,n){var e=t.commit;t.state;o.a.getAllOrder(n).then(function(t){var o=t.body;i.i(u.a)(o,function(){e("listOrder",a()({},n,{list:o}))})})},postOrder:function(t,n){var e=t.commit,r=t.state;o.a.postOrder(n).then(function(t){var o=t.body;i.i(u.a)(o,function(){var t=a()({},n);e("listOrder",{list:i.i(u.b)(r.list,t)})})})},deleteOrder:function(t,n){var e=t.commit,a=t.state;o.a.deleteOrder(n).then(function(t){var o=t.body;i.i(u.a)(o,function(){e("listOrder",{list:i.i(u.c)(a.list,n[0])})})})},putOrderStatus:function(t,n){var e=t.commit,a=t.state;o.a.putOrderStatus(n).then(function(t){var o=t.body;i.i(u.a)(o,function(){var t=n.body[0],i=n.url,o=a.list.map(function(n){return n.id===t?(n.status=i,n):n});e("listOrder",{list:o})})})}}}},110:function(t,n,i){"use strict";var e=i(31),a=i.n(e),o=i(7),u=i.n(o),r=i(6),s=i(8);n.a={state:{list:[],menu:"3"},mutations:{listTag:function(t,n){t.list=n.list}},actions:{getAllTag:function(t,n){var e=t.commit;t.state;r.a.getTag().then(function(t){var n=t.body;i.i(s.a)(n,function(){e("listTag",{list:n})})})},postTag:function(t,n){var e=t.commit,a=t.state,o=t.rootState;r.a.postTag(n).then(function(t){var r=t.body,c=Date.now();i.i(s.a)(r,function(){var t=u()({id:r.id},n,{sid:o.isLogin.sid,createdAt:c,updatedAt:c,version:0}),l=i.i(s.b)(a.list,t);e("listTag",{list:l})})})},putTag:function(t,n){var e=t.commit,a=t.state;t.rootState;r.a.putTag(n).then(function(t){var o=t.body;i.i(s.a)(o,function(){var t=a.list.map(function(t){return t.id===n.id&&(t.name=n.name),t});e("listTag",{list:t})})})},deleteTag:function(t,n){var e=t.commit,a=t.state;r.a.deleteTag(n).then(function(t){var o=t.body;i.i(s.a)(o,function(){e("listTag",{list:i.i(s.c)(a.list,n)})})})},createTag:function(t,n){var i=t.commit,e=t.state,o=e.list;o.length&&!a()(o[o.length-1]).length||(o.push({}),i("listTag",{list:o}))},deleteLocalTag:function(t,n){var i=t.commit,e=t.state,a=e.list;a.pop(),i("listTag",{list:a})}}}},111:function(t,n,i){"use strict";function e(t,n){t.isLogin=n}function a(t){t.isLogin=!1}Object.defineProperty(n,"__esModule",{value:!0}),n.loginSuccess=e,n.logoutSuccess=a},112:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"app"}},153:function(t,n){},157:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]}},161:function(t,n){},25:function(t,n,i){"use strict";var e=i(1),a=i(158),o=function(t){return i.e(5).then(function(){var n=[i(167)];t.apply(null,n)}.bind(this)).catch(i.oe)},u=function(t){return i.e(0).then(function(){var n=[i(164)];t.apply(null,n)}.bind(this)).catch(i.oe)},r=function(t){return i.e(2).then(function(){var n=[i(165)];t.apply(null,n)}.bind(this)).catch(i.oe)},s=function(t){return i.e(4).then(function(){var n=[i(168)];t.apply(null,n)}.bind(this)).catch(i.oe)},c=function(t){return i.e(1).then(function(){var n=[i(166)];t.apply(null,n)}.bind(this)).catch(i.oe)},l=function(t){return i.e(3).then(function(){var n=[i(169)];t.apply(null,n)}.bind(this)).catch(i.oe)};e.default.use(a.a),n.a=new a.a({routes:[{path:"/",redirect:function(t){return"/login"}},{path:"/login",name:"Login",component:o},{path:"/AccountManage",name:"AccountManage",component:u},{path:"/Activity",name:"Activity",component:r},{path:"/Order",name:"Order",component:s},{path:"/Item",name:"Item",component:c},{path:"/Tag",name:"Tag",component:l}]})},43:function(t,n,i){"use strict";var e=i(29),a=i.n(e),o=i(82),u=i(1),r=i(105),s=i(111),c=i(106),l=i(107),d=i(109),f=i(108),m=i(110);u.default.use(o.c);var p=function(t){t.subscribe(function(t,n){localStorage.setItem("state",a()(n))})};n.a=new o.c.Store({actions:r,state:{isLogin:!1},mutations:s,modules:{account:c.a,activity:l.a,order:d.a,item:f.a,tag:m.a},plugins:[p]})},6:function(t,n,i){"use strict";var e=i(30),a=i.n(e),o=i(1),u=i(27),r=i(155),s=i.n(r);o.default.use(u.a);var c=location.host.match("localhost")?"/api":"/shop",l=["post","get","delete","put"],d={admin:"/admin",activity:"/activity",tag:"/tag",order:"/order",items:"/items"},f=function(t,n){var i={};for(var e in t)for(var a in n){var o=n[a]+e[0].toUpperCase()+e.slice(1);i[o]={url:t[e],method:n[a]}}return i}(d,l),m={adminLogin:{url:"/admin/login",method:"post"},adminLogout:{url:"/admin/logout",method:"post"},getActivityById:{url:"/activity",method:"get",rest:!0},getTagById:{url:"/tag",method:"get",rest:!0},getAllOrder:{url:"/order/all",method:"get"},getAllActivity:{url:"/activity/all",method:"get"},putOrderStatus:{url:"/order/status",method:"put",rest:!0},getAllItems:{url:"/items/all",method:"get"}},p={};a()(p,f,m);var v={};for(var g in p)!function(){var t=p[g],n=t.url,i=t.method,e=t.rest;v[g]=function(t){return e?"delete"===i?o.default.http[i](c+n+"/"+t.url,t):o.default.http[i](c+n+"/"+t.url,t.body):"delete"===i?o.default.http[i](c+n,{body:t}):"get"!==i?o.default.http[i](c+n,t):o.default.http[i](c+n+"?"+s.a.stringify(t))}}();n.a=v},60:function(t,n){},61:function(t,n){},62:function(t,n){},63:function(t,n){},64:function(t,n){},65:function(t,n){},66:function(t,n){},67:function(t,n){},68:function(t,n){},69:function(t,n){},70:function(t,n){},71:function(t,n){},72:function(t,n){},73:function(t,n){},74:function(t,n){},75:function(t,n){},76:function(t,n){},77:function(t,n){},78:function(t,n){},79:function(t,n){},8:function(t,n,i){"use strict";function e(t,n){return t.map(function(t){return t.id===n.id?n:t})}function a(t,n){return t.push(n),t}function o(t,n){if(t.errCode)return void alert(t.msg);n()}function u(t,n){return t.filter(function(t){return!(t.id in n)})}n.d=e,n.b=a,n.a=o,n.c=u},80:function(t,n,i){function e(t){i(153)}var a=i(81)(i(112),i(157),e,null,null);t.exports=a.exports}},[104]);
//# sourceMappingURL=app.1d7f5b21fa489d657ad1.js.map