webpackJsonp([1],[,,function(t,e,s){"use strict";var i=s(11),n=s.n(i),r=s(1),a=s(101),o=s(78),c=s.n(o);r.default.use(a.a);var d=location.host.match("localhost")?"/api":"/shop",u=["post","get","delete","put"],l={order:"/order",items:"/items",users:"/users",address:"/address",me:"/users/me"},f=function(t,e){var s={};for(var i in t)for(var n in e){var r=e[n]+i[0].toUpperCase()+i.slice(1);s[r]={url:t[i],method:e[n]}}return s}(l,u),p={userLogin:{url:"/users/jumpLogin/test123456/18825053886/654321",method:"get"},putOrderStatus:{url:"/order/status",method:"put",rest:!0},addressOn:{url:"/address/on",method:"put"}},v={};n()(v,f,p);var m={};for(var _ in v)!function(){var t=v[_],e=t.url,s=t.method,i=t.rest;m[_]=function(t){return i?"delete"===s?r.default.http[s](d+e+"/"+t.url,t):r.default.http[s](d+e+"/"+t.url,t.body):"delete"===s?r.default.http[s](d+e,{body:t}):"get"!==s?r.default.http[s](d+e,t):r.default.http[s](d+e+"?"+c.a.stringify(t))}}();e.a=m},function(t,e,s){"use strict";function i(t,e){t.errCode?alert(t.msg):e(t)}function n(t,e){return t.filter(function(t){return t.id!==e})}e.a=i,e.b=n;var r=s(40);s.n(r)},,,function(t,e,s){"use strict";var i=s(1),n=s(102),r=s(82),a=s.n(r),o=s(84),c=s.n(o),d=s(83),u=s.n(d),l=s(87),f=s.n(l),p=s(88),v=s.n(p),m=s(86),_=s.n(m),h=s(85),y=s.n(h),g=s(90),b=s.n(g),C=s(89),O=s.n(C);i.default.use(n.a),e.a=new n.a({routes:[{path:"/login",name:"Index",component:a.a},{path:"/items",name:"items",component:c.a},{path:"/ItemDetail",name:"itemDetail",component:u.a},{path:"/Order",name:"Order",component:f.a},{path:"/paySuccess",name:"paySuccess",component:v.a},{path:"/MyOrder",name:"MyOrder",component:_.a},{path:"/me",name:"me",component:y.a},{path:"/address",name:"address",component:b.a},{path:"/addAddress",name:"addAddress",component:O.a}]})},,,,,,,,,,,,,,function(t,e,s){"use strict";var i=s(1),n=s(19),r=s(2),a=s(3),o=s(6),c=s(27),d=s(26),u=s(29),l=s(28);i.default.use(n.a);var f=new n.a.Store({state:{login:!1},mutations:{loginSuccess:function(t,e){t.login=!0}},actions:{userLogin:function(t,e){var i=t.commit;t.state;r.a.userLogin().then(function(t){var e=t.body;s.i(a.a)(e,function(){i("loginSuccess"),o.a.push("/items")})})}},modules:{items:c.a,address:d.a,order:u.a,me:l.a}});e.a=f},function(t,e){},,function(t,e,s){function i(t){s(70)}var n=s(0)(s(30),s(94),i,null,null);t.exports=n.exports},,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(1),n=s(23),r=s.n(n),a=s(6),o=s(20),c=s(21),d=(s.n(c),s(22)),u=s.n(d);i.default.config.productionTip=!1,i.default.use(u.a),new i.default({el:"#app",router:a.a,store:o.a,template:"<App/>",components:{App:r.a}})},function(t,e,s){"use strict";var i=s(2),n=s(3);e.a={state:{list:[]},mutations:{listAddress:function(t,e){t.list=e.list}},actions:{getAddress:function(t){var e=t.commit;t.state;i.a.getAddress().then(function(t){var i=t.body;s.i(n.a)(i,function(){e("listAddress",{list:i})})})},deleteAddress:function(t,e){var r=t.commit,a=t.state,o=a.list;i.a.deleteAddress(e).then(function(t){var i=t.body;s.i(n.a)(i,function(){var t=o.filter(function(t){return t.id!==e.ids[0]});r("listAddress",{list:t})})})},addressOn:function(t,e){var r=t.commit,a=t.state,o=a.list;i.a.addressOn(e).then(function(t){var i=t.body;s.i(n.a)(i,function(){var t=o.map(function(t){return t.status&&(t.status=0),t.id===e.id&&(t.status=1),t});r("listAddress",{list:t})})})}}}},function(t,e,s){"use strict";var i=s(7),n=s.n(i),r=s(2),a=s(3);e.a={state:{page:void 0,keyword:void 0,list:[]},mutations:{listItems:function(t,e){t.list=e.list,e.keyword&&(t.keyword=e.keyword),e.page&&(t.page=e.page)}},actions:{getItems:function(t,e){var i=t.commit;t.state;r.a.getItems(e).then(function(t){var r=t.body;s.i(a.a)(r,function(){i("listItems",n()({list:r},e))})})}},getters:{listOfIntro:function(t,e){return t.list.map(function(t){return t.img=JSON.parse(t.specifications)[0].img[0],t})}}}},function(t,e,s){"use strict";var i=s(2),n=s(3);e.a={state:{me:void 0},mutations:{listMe:function(t,e){t.me=e}},actions:{getMe:function(t,e){var r=t.commit;t.state;i.a.getMe(e).then(function(t){var e=t.body;s.i(n.a)(e,function(){r("listMe",e)})})}}}},function(t,e,s){"use strict";var i=s(7),n=s.n(i),r=s(2),a=s(3),o=s(6);e.a={state:{page:void 0,keyword:void 0,list:[]},mutations:{listOrder:function(t,e){t.list=e.list,e.page&&(t.page=e.page),e.keyword&&(t.keyword=e.keyword)}},actions:{getOrder:function(t,e){var i=t.commit;t.state;r.a.getOrder(e).then(function(t){var r=t.body;s.i(a.a)(r,function(){i("listOrder",n()({list:r},e))})})},postOrder:function(t,e){var i=t.commit,n=t.state,c=n.list;r.a.postOrder(e).then(function(t){var n=t.body;s.i(a.a)(n,function(){e.id=n.id,c.push(e),i("listOrder",{list:c}),o.a.push({path:"/paysuccess",query:e})})})},putOrder:function(t,e){var i=t.commit,n=t.state,o=n.list;r.a.putOrder(e.body).then(function(t){var n=t.body;s.i(a.a)(n,function(){var t=o.map(function(t){return t.id===e.body[0]&&(t.status=e.url),t});i("listOrder",{list:t})})})},cancelOrder:function(t,e){var i=t.commit,n=t.state,o=n.list;r.a.cancelOrder(e).then(function(t){var n=t.body;s.i(a.a)(n,function(){var t=o.map(function(t){return t.id===e.id&&(t.status=0),t});i("listOrder",{list:t})})})},deleteOrder:function(t,e){var i=t.commit,n=t.state,o=n.list;r.a.deleteOrder(e).then(function(t){var n=t.body;s.i(a.a)(n,function(){i("listOrder",{list:s.i(a.b)(o,e[0])})})})},putOrderStatus:function(t,e){var i=t.commit,n=t.state,o=n.list;r.a.putOrderStatus({url:3,body:[e]}).then(function(t){var n=t.body;s.i(a.a)(n,function(){var t=o.map(function(t){return t.id===e&&(t.status=2),t});i("listOrder",{list:t})})})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={beforeRouteEnter:function(t,e,s){s(function(t){t.$store.dispatch("userLogin")})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{popup:!1,current:0}},computed:{goods:function(){var t=this.$route.query.id;return this.$store.state.items.list.filter(function(e){return e.id===t})[0]},currentIndex:function(){return this.current?this.specificationName.indexOf(this.current):0},specifications:function(){return JSON.parse(this.goods.specifications)},specificationName:function(){return this.specifications.map(function(t,e){return t.name})},imgs:function(){return this.specifications[0].img},price:function(){return this.specifications[0].store}},methods:{onPopup:function(){this.popup=!0,this.current=this.specificationName[0]},createOrder:function(){var t=this.currentIndex;this.$router.push({path:"/order",query:{item_id:this.goods.id,name:this.goods.name,price:this.specifications[t].price,img:this.specifications[t].img[0]}})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(7),n=s.n(i),r=s(19);e.default={computed:n()({},s.i(r.b)({list:"listOfIntro"}),{keyword:{get:function(){return this.$store.state.items.keyword},set:function(t){this.$store.dispatch("getItems",{keyword:t})}}}),beforeRouteEnter:function(t,e,s){s(function(t){t.$store.dispatch("getItems")})},methods:{gotoDetail:function(t){this.$router.push({path:"/ItemDetail",query:{id:t}})},buy:function(){this.$router.push("/items")},myInfo:function(){this.$router.push("/me")}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{me:function(){return this.$store.state.me.me}},beforeRouteEnter:function(t,e,s){s(function(t){t.$store.dispatch("getMe")})},methods:{buy:function(){this.$router.push("/items")},myInfo:function(){this.$router.push("/me")}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{orders:function(){var t=this.$store.state.items.list;return this.$store.state.order.list.map(function(e){var s=t.filter(function(t){return e.item_id===t.id})[0].specifications;return e.image=JSON.parse(s)[0].img[0],e})}},beforeRouteEnter:function(t,e,s){document.title="我的订单",s(function(t){t.$store.dispatch("getOrder")})},methods:{confirm:function(t){this.$store.dispatch("putOrderStatus",t)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{address:function(){return this.$store.state.address.list.filter(function(t){return t.status})[0]},allAddress:function(){var t=this.address;return t.province+t.city+t.district+t.details},goods:function(){return this.$route.query}},beforeRouteEnter:function(t,e,s){s(function(t){t.$store.dispatch("getAddress")})},methods:{postOrder:function(){var t=this.address,e=this.goods,s=this.allAddress;this.$store.dispatch("postOrder",{item_id:e.item_id,name:e.name,price:e.price,user_name:t.name,phone:t.phone,address:s})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{order:function(){return this.$route.query}},methods:{index:function(){this.$router.push("/")},seeOrder:function(){this.$router.push("/MyOrder")}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{address:""}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{list:function(){return this.$store.state.address.list}},beforeRouteEnter:function(t,e,s){document.title="管理收货地址",s(function(t){t.$store.dispatch("getAddress")})},methods:{deleteAddress:function(t){this.$store.dispatch("deleteAddress",{ids:[t]})},addressOn:function(t){t.status||this.$store.dispatch("addressOn",{id:t.id})},addAddress:function(){this.$router.push("/addAddress")}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,s){var i=s(0)(s(31),s(91),null,null,null);t.exports=i.exports},function(t,e,s){function i(t){s(76)}var n=s(0)(s(32),s(100),i,null,null);t.exports=n.exports},function(t,e,s){function i(t){s(75)}var n=s(0)(s(33),s(99),i,null,null);t.exports=n.exports},function(t,e,s){function i(t){s(72)}var n=s(0)(s(34),s(96),i,"data-v-53535588",null);t.exports=n.exports},function(t,e,s){function i(t){s(73)}var n=s(0)(s(35),s(97),i,"data-v-5aaae77c",null);t.exports=n.exports},function(t,e,s){function i(t){s(68)}var n=s(0)(s(36),s(92),i,"data-v-28f3228e",null);t.exports=n.exports},function(t,e,s){function i(t){s(71)}var n=s(0)(s(37),s(95),i,null,null);t.exports=n.exports},function(t,e,s){function i(t){s(74)}var n=s(0)(s(38),s(98),i,null,null);t.exports=n.exports},function(t,e,s){function i(t){s(69)}var n=s(0)(s(39),s(93),i,"data-v-3e10fb58",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"address"},[s("div",{staticClass:"top"},[s("div",{staticClass:"user-name"},[t._v("收货人："+t._s(t.address.name))]),t._v(" "),s("div",{staticClass:"phone"},[t._v(t._s(t.address.phone))])]),t._v(" "),s("div",{staticClass:"middle"},[t._v("\n      收货地址："+t._s(t.allAddress)+"\n    ")]),t._v(" "),s("i",{staticClass:"mint-cell-arrow-right"})]),t._v(" "),s("div",{staticClass:"goods"},[s("div",{staticClass:"goods-img",style:{backgroundImage:"url("+t.goods.img+")"}}),t._v(" "),s("div",{staticClass:"goods-info"},[s("div",{staticClass:"goods-n"},[t._v(t._s(t.goods.name))]),t._v(" "),s("div",{staticClass:"goods-price"},[t._v("价格¥"+t._s(t.goods.price))])])]),t._v(" "),s("div",{staticClass:"submit-order",on:{click:t.postOrder}},[t._v("提交订单")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._l(t.list,function(e){return s("div",{key:e.id,staticClass:"address-item"},[s("div",{staticClass:"top"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"phone"},[t._v(t._s(e.phone))])]),t._v(" "),s("div",{staticClass:"middle"},[t._v(t._s(e.province+e.city+e.district+e.details))]),t._v(" "),s("div",{staticClass:"bottom"},[s("mt-button",{attrs:{size:"small",plain:""},on:{click:function(s){t.addressOn(e)}}},[t._v(t._s(e.status?"默认地址":"设为默认"))]),t._v(" "),s("div",{staticClass:"op-panel"},[s("mt-button",{attrs:{size:"small",type:"primary"}},[t._v("编辑")]),t._v(" "),s("mt-button",{attrs:{size:"small",plain:""},on:{click:function(s){t.deleteAddress(e.id)}}},[t._v("删除")])],1)],1)])}),t._v(" "),s("div",{staticClass:"addressAdd"},[s("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.addAddress}},[t._v("添加新地址")])],1)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pay-success"},[t._m(0),t._v(" "),s("div",{staticClass:"pay-success-body"},[s("div",{staticClass:"pay-info-card"},[s("div",{staticClass:"pay-name"},[t._v("收货人："+t._s(t.order.name))]),t._v(" "),s("div",{staticClass:"pay-address"},[t._v("地址："+t._s(t.order.address))]),t._v(" "),s("div",{staticClass:"pay-phone"},[t._v("手机号："+t._s(t.order.phone))])])]),t._v(" "),s("div",{staticClass:"pay-footer"},[s("div",{staticClass:"pay-footer-btn",on:{click:t.seeOrder}},[t._v("查看订单")]),t._v(" "),s("div",{staticClass:"pay-footer-btn",on:{click:t.index}},[t._v("返回首页")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pay-success-header"},[s("div",{staticClass:"pay-header-inner"},[s("div",{staticClass:"pay-header-inner-top"},[t._v("已成功兑换礼品")]),t._v(" "),s("div",{staticClass:"pay-header-inner-bottom"},[t._v("您的礼品正整装待发")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"me-header"},[s("div",{staticClass:"me-header-inner"},[s("div",{staticClass:"me-name"},[t._v("员工姓名："+t._s(t.me.name))]),t._v(" "),s("div",{staticClass:"me-count"},[t._v("积分余额："+t._s(t.me.balance))])])]),t._v(" "),s("mt-cell",{attrs:{title:"我的收货地址","is-link":"",to:"/#/address"}}),t._v(" "),s("mt-cell",{attrs:{title:"全部礼品","is-link":"",to:"/items"}}),t._v(" "),s("mt-cell",{attrs:{title:"待收货","is-link":"",to:"/MyOrder"}}),t._v(" "),s("mt-cell",{attrs:{title:"积分明细","is-link":""}}),t._v(" "),s("mt-cell",{attrs:{title:"积分兑换奖品规则","is-link":""}}),t._v(" "),s("div",{staticClass:"items-footer"},[s("div",{staticClass:"items-footer-btn",on:{click:t.buy}},[t._v("兑换商品")]),t._v(" "),s("div",{staticClass:"items-footer-btn",on:{click:t.myInfo}},[t._v("我的信息")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.orders,function(e){return s("div",{key:e.id,staticClass:"order-wrap"},[s("div",{staticClass:"order"},[s("div",{staticClass:"order-img",style:{backgroundImage:"url("+e.image+")"}}),t._v(" "),s("div",{staticClass:"order-right"},[s("div",{staticClass:"order-name"},[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),s("div",{staticClass:"order-price"},[t._v("\n          ¥"+t._s(e.price)+"\n        ")])])]),t._v(" "),s("div",{staticClass:"op"},[s("mt-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){t.confirm(e.id)}}},[t._v("确认收货")])],1)])}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-field",{attrs:{label:"收货人",placeholder:"收货人"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("mt-field",{attrs:{label:"联系电话",placeholder:"联系电话",type:"tel"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),s("mt-field",{attrs:{placeholder:"请填写详细地址",type:"textarea",rows:"4"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),t._v(" "),s("mt-cell",{attrs:{title:"设为默认"}},[s("mt-switch",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-search",{attrs:{"cancel-text":"取消",placeholder:"搜索",show:!0},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},t._l(t.list,function(e){return s("div",{key:e.id,staticClass:"goods",on:{click:function(s){t.gotoDetail(e.id)}}},[s("div",{staticClass:"goods-img",style:{backgroundImage:"url("+e.img+")"}}),t._v(" "),s("div",{staticClass:"goods-info"},[s("div",{staticClass:"goods-title"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"goods-desc"},[t._v(t._s(e.description))])])])})),t._v(" "),s("div",{staticClass:"items-footer"},[s("div",{staticClass:"items-footer-btn",on:{click:t.buy}},[t._v("兑换商品")]),t._v(" "),s("div",{staticClass:"items-footer-btn",on:{click:t.myInfo}},[t._v("我的信息")])]),t._v(" "),s("div")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("mt-swipe",{staticClass:"swipe",attrs:{auto:4e3}},t._l(t.imgs,function(t,e){return s("mt-swipe-item",{key:e,staticClass:"swipe-img",style:{backgroundImage:"url("+t+")"}})})),t._v(" "),s("mt-cell",{attrs:{title:"商品名称"}},[s("span",{staticClass:"goods-name"},[t._v(t._s(t.goods.name))])]),t._v(" "),s("mt-cell",{attrs:{title:"所需积分"}},[s("span",{staticClass:"goods-name"},[t._v(t._s(t.goods.price))])]),t._v(" "),s("mt-cell",{attrs:{title:"库存"}},[s("span",{staticClass:"goods-name"},[t._v(t._s(t.price))])]),t._v(" "),s("mt-field",{attrs:{label:"商品详情",readonly:"",placeholder:"商品详情",type:"textarea",rows:"6",value:t.goods.details}}),t._v(" "),s("footer",[s("div",{staticClass:"btn btn-chart"},[t._v("加入购物车")]),t._v(" "),s("div",{staticClass:"btn btn-buy",on:{click:t.onPopup}},[t._v("立即购买")])]),t._v(" "),s("mt-popup",{staticClass:"my-popup",attrs:{position:"bottom"},model:{value:t.popup,callback:function(e){t.popup=e},expression:"popup"}},[s("img",{staticClass:"goods-image",attrs:{src:t.specifications[t.currentIndex].img[0]}}),t._v(" "),s("mt-radio",{attrs:{title:"规格",options:t.specificationName},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}),t._v(" "),s("mt-field",{attrs:{label:"库存",placeholder:"请输入数字",type:"number",value:t.specifications[t.currentIndex].store}}),t._v(" "),s("div",{staticClass:"generate-order",on:{click:t.createOrder}},[t._v("确定")])],1)],1)},staticRenderFns:[]}},,,,,function(t,e){}],[25]);
//# sourceMappingURL=app.4d0cc7677957de1d04a4.js.map